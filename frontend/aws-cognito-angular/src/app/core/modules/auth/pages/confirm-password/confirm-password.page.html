<ion-content class="ion-padding">
  <div class="logo"><img src="../../assets/logo.png" /></div>

  <form [formGroup]="form" (ngSubmit)="onSubmitForm()">
    <div class="form">
      <ion-item lines="none">
        <ion-label class="ion-text-wrap">
          A code has been sent to your phone, please enter it below to confirm
          your phone number. If you have not received it click Resend to try
          again.
        </ion-label>
      </ion-item>
      <ion-item class="note">
        <ion-label>
          <a (click)="onResendResetCode()">Resend</a>
        </ion-label>
      </ion-item>

      <ion-item lines="none">
        <ion-label position="stacked" for="code">Code</ion-label>
        <ion-input
          id="code"
          type="text"
          formControlName="code"
          autofocus="true"
        ></ion-input>
      </ion-item>

      <ion-item lines="none">
        <ion-label position="stacked" for="password">Password</ion-label>
        <ion-input
          id="password"
          type="password"
          formControlName="password"
        ></ion-input>
      </ion-item>

      <ion-item lines="none">
        <ion-label position="stacked" for="confirmPassword"
          >Confirm Password</ion-label
        >
        <ion-input
          id="confirmPassword"
          type="password"
          formControlName="confirmPassword"
        ></ion-input>
      </ion-item>

      <ion-button
        [disabled]="!form.valid"
        class="submit-button"
        expand="block"
        type="submit"
      >
        <ion-spinner
          *ngIf="(pageState$ | async).loading; else label"
        ></ion-spinner>
        <ng-template #label>Confirm</ng-template>
      </ion-button>
      <ion-button [routerLink]="['../signin']" expand="block" color="light"
        >Return to login</ion-button
      >
    </div>
  </form>
</ion-content>
